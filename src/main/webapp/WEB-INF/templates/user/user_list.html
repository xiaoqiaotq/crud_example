<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="template"
        >
<head>
    <!-- BEGIN PAGE LEVEL STYLES -->
    
	<link rel="stylesheet" type="text/css" href="/resources/assets/media/css/select2_metro.css" th:href="@{/resources/assets/media/css/select2_metro.css}" />

	<link rel="stylesheet" href="/resources/assets/media/css/DT_bootstrap.css" th:href="@{/resources/assets/media/css/DT_bootstrap.css}" />
	
	<link href="/resources/assets/media/css/glyphicons.css" th:href="@{/resources/assets/media/css/glyphicons.css}" rel="stylesheet"/>
	
	<link href="/resources/assets/media/css/halflings.css" th:href="@{/resources/assets/media/css/halflings.css}" rel="stylesheet"/>
	
    <!-- END PAGE LEVEL STYLES -->    
</head>
<body>


		<div layout:fragment="content">
		
			<div id="message" th:if="${message}" class="alert alert-success">
				<button data-dismiss="alert" class="close">×</button>
					<strong th:text="${message}">success</strong>
			</div>

	    	
			<div class="span12 responsive" data-tablet="span12 fix-offset" data-desktop="span12">
                <!-- BEGIN SAMPLE TABLE PORTLET-->
						<div class="portlet box grey">

							<div class="portlet-title">

								<div class="caption"><i class="icon-user"></i>用户管理</div>

								<div class="actions">

									<a href="/user/show_add" th:href="@{/user/create}" class="btn blue">添加用户</a>

								</div>

							</div>
							
			
							<div class="row-fluid">
								<form class="form-search" action="#" method="post">
									<label th:text="用户名">名称：</label> 
									<input type="text" name="search_LIKE_username" class="input-medium" th:value="${param.search_LIKE_username!=null}?${param.search_LIKE_username[0]}"/> 
									<button type="submit" class="btn" id="search_btn">Search</button>
							    </form>
					    	</div>							

							<div class="portlet-body">

								<table class="table table-striped table-bordered table-hover" id="sample_2">

									<thead>

										<tr>

											<th style="width:8px;"><input type="checkbox" class="group-checkable" data-set="#sample_2 .checkboxes" /></th>

											<th>用户编号</th>

											<th class="hidden-480">用户名</th>

											<th class="hidden-480">年龄</th>
											
											<th class="hidden-480">创建时间</th>
											
											<th class="hidden-480">角色</th>
											
											<th  style="width:133px;">操作</th>

										</tr>

									</thead>

									<tbody>
										<tr class="odd gradeX" th:each="user:${page.content}">

											<td><input type="checkbox" class="checkboxes" value="1" th:value="${user.id}" /></td>

											<td th:text="${user.id}">${user.id}</td>

											<td class="hidden-480" th:text="${user.username}">${user.username}</td>

											<td th:text="${user.age}">
												${user.age}
											</td>
											
											<td th:text="${user.registerDate}">
												2009/12/11
											</td>
											
											<td>
													<label th:each="role:${user.roles}" th:text="${role.roleName}">管理员</label>
											</td>
											
											<td>
												<a href="user_form.html" th:href="@{'/user/update/'+${user.id}}" class="btn blue" title="修改" ><i class="icon-pencil"></i> </a>
												<a href="/user/del/${user.id}" th:href="@{'/user/del/'+${user.id}}" class="btn red" title="删除" ><i class="icon-bug"></i> </a>
												<a href="user_role.html" th:href="@{'/user/showRole/'+${user.id}}" class="btn green" title="角色" ><i class="icon-user white"></i> </a>
											
											</td>

										</tr>

									</tbody>

								</table>

							</div>

						</div>

                <!-- END SAMPLE TABLE PORTLET-->

            </div>
            
            <div layout:include="fragment/pagination::pagination" >
            </div>
		</div>
		
	
		<div layout:fragment="script">
		
			<!-- BEGIN PAGE LEVEL PLUGINS -->
			
				<script type="text/javascript" src="/resources/assets/media/js/select2.min.js" th:src="@{/resources/assets/media/js/select2.min.js}"></script>
			
				<script type="text/javascript" src="/resources/assets/media/js/jquery.dataTables.js" th:src="@{/resources/assets/media/js/jquery.dataTables.js}"></script>
			
				<script type="text/javascript" src="/resources/assets/media/js/DT_bootstrap.js" th:src="@{/resources/assets/media/js/DT_bootstrap.js}"></script>
			
			<!-- END PAGE LEVEL PLUGINS -->
			
			<!-- BEGIN PAGE LEVEL SCRIPTS -->
			
			<script src="/resources/assets/media/js/table-managed.js" th:src="@{/resources/assets/media/js/table-managed.js}" type="text/javascript"></script>
			
			<!-- END PAGE LEVEL SCRIPTS -->
			
			<script>
			
			    jQuery(document).ready(function () {
			
			
			        TableManaged.init();
			
			    });
			
			</script>
			
			<!-- END JAVASCRIPTS -->
		
		</div>
	
</body>
</html>